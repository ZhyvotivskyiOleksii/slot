document.addEventListener("DOMContentLoaded",(()=>{const e=["star","lemon","orange","watermelon","cherries","bell"],t=[document.getElementById("reel1"),document.getElementById("reel2"),document.getElementById("reel3"),document.getElementById("reel4"),document.getElementById("reel5")],n=document.getElementById("spinButton"),o=document.getElementById("bet"),l=document.getElementById("win"),d=document.getElementById("totalBalance"),s=document.getElementById("loadingScreen"),c=document.getElementById("startButton"),i=document.querySelector(".slot-machine"),a=document.getElementById("closeButton"),m=document.getElementById("muteButton"),u=document.getElementById("volumeControl"),r=document.getElementById("winModal"),y=document.getElementById("winAmount");let p=1e3,E=.5,B=0,g=!1;const v=new Audio("/sounds/bg21.mp3"),h=new Audio("/sounds/spin.mp3"),f=new Audio("/sounds/reel-stop.mp3"),I=new Audio("/sounds/win.mp3"),b=new Audio("/sounds/change-coin.mp3"),L=new Audio("/sounds/insufficient-balance.mp3");function C(){o.textContent=E}v.loop=!0,t.forEach((t=>{!function(t){const n=document.createElement("div");n.className="symbol-container";for(let t=0;t<16;t++){const t=document.createElement("div");t.className=`symbol ${e[Math.floor(Math.random()*e.length)]}`,n.appendChild(t)}!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(t),t.appendChild(n)}(t)})),n.addEventListener("click",(async()=>{if(p<E)return void function(){const e=document.createElement("div");e.className="modal",e.innerHTML='\n      <div class="modal-content">\n        <span class="close">&times;</span>\n        <p>–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤. –ë—É–¥—å –ª–∞—Å–∫–∞, –æ–Ω–æ–≤—ñ—Ç—å c—Ç–æ—Ä—ñ–Ω–∫—É –¥–ª—è –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É –Ω–∞ 1000 –∫—Ä–µ–¥–∏—Ç—ñ–≤.</p>\n      </div>\n    ',document.body.appendChild(e),e.querySelector(".close").addEventListener("click",(()=>{e.style.display="none",e.remove(),location.reload()})),e.style.display="block",setTimeout((()=>{e.style.display="none",e.remove(),location.reload()}),3e3),L.play()}();p-=E,d.textContent=p,n.disabled=!0,h.play();const e=[2,2.5,3,3.5,4],o=t.map(((t,n)=>function(e,t){return new Promise((n=>{const o=e.querySelector(".symbol-container");o.style.animationDuration=`${t}s`,o.classList.add("spin"),setTimeout((()=>{o.classList.remove("spin"),o.style.top="0",o.classList.add("bounce"),setTimeout((()=>{o.classList.remove("bounce"),f.play(),n()}),300)}),1e3*t)}))}(t,e[n])));await Promise.all(o),h.pause(),function(){B=0;const e=[],n=t.map((e=>e.querySelector(".symbol-container").children[0].className.split(" ")[1]));n.every((e=>e===n[0]))&&(B=10*E,p+=B,d.textContent=p,l.textContent=B,e.push(...n),function(e){e.forEach((e=>{document.querySelectorAll(`.symbol.${e}`).forEach((e=>{e.classList.add("highlight")}))}))}(e),I.play(),function(e){e>0&&(y.textContent=e,r.style.display="block",r.querySelector(".close").addEventListener("click",(()=>{r.style.display="none"})),setTimeout((()=>{r.style.display="none"}),3e3))}(B))}(),n.disabled=!1})),document.getElementById("coinPlusButton").addEventListener("click",(()=>{E+=.5,C(),b.play()})),document.getElementById("coinMinusButton").addEventListener("click",(()=>{E>.5&&(E-=.5),C(),b.play()})),document.getElementById("maxBetButton").addEventListener("click",(()=>{E=Math.floor(p),C(),b.play()})),c.addEventListener("click",(()=>{s.style.display="none",i.style.display="block",v.play()})),a.addEventListener("click",(()=>{i.style.display="none",s.style.display="block",v.pause()})),m.addEventListener("click",(()=>{g=!g,v.muted=g,m.textContent=g?"üîá":"üîä"})),u.addEventListener("input",(e=>{v.volume=e.target.value})),C()}));